---
title: '[Flutter] FutureBuilder'

categories:
  - Flutter
tags:
  - [flutter]

toc: true
toc_sticky: true

date: 2022-10-14 18:09:54
last_modified_at: 2022-10-14 18:09:58
---

# FutureBuilder

## ì„œë²„ì— ìš”ì²­í•œ ë°ì´í„°ë¥¼ í™”ë©´ì— ë³´ì—¬ì£¼ê¸°

ìš”ì²­í•œ ë°ì´í„°ë¥¼ stateì— ì €ì¥í•´ë‘”ë‹¤.

```dart
class _MyAppState extends State<MyApp> {
  var tab = 0;
  var data = [];

 getData() async {
    try {
      var res = await http
          .get(Uri.parse('https://codingapple1.github.io/app/data.json'));
      var content = await jsonDecode(res.body);
      setState(() {
        data = content;
      });
    } catch (err) {
      print(err);
    }
  }

  (ìƒëµ)
```

<br>

Home ìœ„ì ¯ìœ¼ë¡œ ì „ë‹¬

```dart
// 1. MyApp ì•ˆì— ìˆë˜ Homeì— ì „ì†¡
Home(data: data)

// 2. Homeì—ì„œ ë“±ë¡
class Home extends StatelessWidget{
  const Home ({Key? key, this.data})
  final data;

// 3. Home ì•ˆì—ì„œ ì‚¬ìš©
Text(data[0]['content'])
```

<br>

## data null check

dataë¼ëŠ” ë³€ìˆ˜ê°€ ë¹„ì–´ìˆì„ ë•Œ ë¨¼ì € ì‚¬ìš©í•  ê²½ìš° ì—ëŸ¬ê°€ ë‚œë‹¤.<br>
ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ifë¬¸ì„ í™œìš©í•´ì¤€ë‹¤.

```dart
class Home extends StatelessWidget {
  const Home({Key? key, this.data}) : super(key: key);
  final data;

  @override
  Widget build(BuildContext context) {
    if (data.isNotEmpty) { // ğŸ’¡ ì™¼ìª½ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ê°€ ì•ˆë¹„ì—ˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤.
      print(data);
      return ListView.builder(
        itemCount: data.length,
        itemBuilder: (c, i) {
          return Column(
            children: [
              // Image.asset('/image_0.jpg'),
              Image.network(data[i]['image']), // ê²½ë¡œê°€ ì•„ë‹ˆë¼ ì›¹ì´ë¯¸ì§€ ì£¼ì†Œë¡œ ë„£ì„ ìˆ˜ ìˆë‹¤.
              Container(
                constraints: BoxConstraints(maxWidth: 500),
                padding: EdgeInsets.all(20),
                width: double.infinity,
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(data[i]['likes'].toString(),
                        style: TextStyle(fontWeight: FontWeight.bold)),
                    Text(data[i]['user']),
                    Text(data[i]['content']),
                  ],
                ),
              )
            ],
          );
        },
      );
    } else {
      return CircularProgressIndicator(); // ë¡œë”©ì¤‘ ì´ë¯¸ì§€(ìŠ¤í”¼ë„ˆ)
    }
  }
}
```

<br>

## Dio íŒ¨í‚¤ì§€

ì„œë²„ì™€ GET, POST ìš”ì²­í•  ì¼ì´ ë§ìœ¼ë©´ http ë§ê³  Dio íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì„œ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤. <br>
ì½”ë“œê°€ ì§§ì•„ì§€ê³  í¸ì˜ì„± ê¸°ëŠ¥ë„ ë§ì´ ì œê³µí•´ì¤€ë‹¤.

<br>

## FutureBuilder

FutureBuilder()ëŠ” ì…ë ¥í•œ Future ë³€ìˆ˜ê°€ ì‹¤ì œ ë°ì´í„°ë¡œ ë³€í•  ë•Œ ë‚´ë¶€ ì½”ë“œ 1íšŒ ì‹¤í–‰í•´ì£¼ëŠ” ìœ„ì ¯

```dart
FutureBuilder (
  future: http.get(ì–´ì©Œêµ¬),
  builder: (context, snapshot) {
    if (snapshot.hasData) {
      return Text('postì— ë°ì´í„° ìˆìœ¼ë©´ ë³´ì—¬ì¤„ ìœ„ì ¯')
    }
    return Text('postì— ë°ì´í„° ì—†ìœ¼ë©´ ë³´ì—¬ì¤„ ìœ„ì ¯')
  },
)
```

1. future: ì•ˆì—ëŠ” Futureë¥¼ ë‹´ì€ state ì´ë¦„ì„ ì ìœ¼ë©´ ëœë‹¤.<br>
   http.get() ì´ëŸ°ê±° ì§ì ‘ ì ì–´ë„ ë˜ê¸´ í•˜ì§€ë§Œ stateì— ì €ì¥í–ˆë‹¤ê°€ ì“°ëŠ”ê²Œ ì¢‹ì„ ìˆ˜ ìˆë‹¤.
2. builder: (){return ì–´ì©Œêµ¬} ì•ˆì˜ ì½”ë“œëŠ” ì…ë ¥í•œ state ë°ì´í„°ê°€ ë„ì°©í•  ë•Œ ì‹¤í–‰í•´ì¤€ë‹¤.
3. ê·¸ë¦¬ê³  snapshot ì´ë¼ëŠ” íŒŒë¼ë¯¸í„°ê°€ ë³€í™”ëœ state ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤.

ë”± í•œë²ˆ ë°ì´í„°ê°€ ë„ì°©í•˜ê³  ë„ì°©ì‹œ ìœ„ì ¯ì„ ë³´ì—¬ì¤˜ì•¼í•  ê²½ìš° FutureBuilderê°€ ìœ ìš©í•  ìˆ˜ ìˆëŠ”ë° <br>
ë°ì´í„°ê°€ ì¶”ê°€ë˜ëŠ” ê²½ìš°ê°€ ì¦ìœ¼ë©´ ë¶ˆí¸í•´ì„œ ì‚¬ìš© ì•ˆí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
